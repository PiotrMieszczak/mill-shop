"use strict";(self.webpackChunkmill_shop=self.webpackChunkmill_shop||[]).push([[536],{5372:(C,p,n)=>{n.r(p),n.d(p,{ProductListComponent:()=>a});var e=n(4438),b=n(9797),g=n(954),d=n(5238),f=n(7052);const v=(c,O)=>O.slug;function s(c,O){if(1&c&&e.nrm(0,"app-product-card",3),2&c){const y=O.$implicit,m=e.XpG();e.Y8G("productSignal",y)("categorySlug",m.categorySlug())("isLoadingSignal",m.loadingSignal())}}let a=(()=>{class c{productFacade=(0,e.WQX)(g.x);activeRouter=(0,e.WQX)(b.nX);categorySlug=(0,e.vPA)("");productsSignal=this.productFacade.productsSignal;loadingSignal=this.productFacade.isLoadingSignal;errorSignal=this.productFacade.hasErrorSignal;categorySignal=this.productFacade.categorySignal;ngOnInit(){this.categorySlug.set(this.activeRouter.snapshot.paramMap.get("slug")??""),this.productFacade.getProductsByCategory(this.categorySlug())}static \u0275fac=function(m){return new(m||c)};static \u0275cmp=e.VBU({type:c,selectors:[["app-product-list"]],decls:7,vars:2,consts:[[1,"lib-container"],[1,"title"],[1,"grid","p-b-4"],[1,"product-card","col-m-2","col-d-3",3,"productSignal","categorySlug","isLoadingSignal"],[3,"isLoadingSignal"]],template:function(m,x){if(1&m&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2),e.k0s(),e.j41(3,"div",2),e.Z7z(4,s,1,3,"app-product-card",3,v),e.k0s()(),e.nrm(6,"app-loader",4)),2&m){let M;e.R7$(2),e.SpI("Products in ",null==(M=x.categorySignal())?null:M.name," category"),e.R7$(2),e.Dyx(x.productsSignal()),e.R7$(2),e.Y8G("isLoadingSignal",x.loadingSignal())}},dependencies:[d.V,f.V],styles:[".title[_ngcontent-%COMP%]{font-weight:700;margin:1rem 0;font-size:2rem;line-height:1.75}@media (min-width: 1024px){.title[_ngcontent-%COMP%]{font-size:2.5rem;line-height:1.75}}"],changeDetection:0})}return c})()},138:(C,p,n)=>{n.d(p,{$:()=>e});class e{static createImage(g){return{url:g.url,fileName:g.fileName}}}},7052:(C,p,n)=>{n.d(p,{V:()=>g});var e=n(4438);function b(d,f){1&d&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.k0s())}let g=(()=>{class d{isLoadingSignal=(0,e.hFB)();isVisible=(0,e.EWP)(()=>this.isLoadingSignal());static \u0275fac=function(s){return new(s||d)};static \u0275cmp=e.VBU({type:d,selectors:[["app-loader"]],inputs:{isLoadingSignal:[1,"isLoadingSignal"]},decls:1,vars:1,consts:[[1,"loader-overlay"],[1,"spinner"]],template:function(s,a){1&s&&e.DNE(0,b,2,0,"div",0),2&s&&e.vxM(a.isVisible()?0:-1)},styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fff;display:flex;align-items:center;justify-content:center;z-index:9999}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid #9e9e9e;border-top:5px solid #42a5f5;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}return d})()},2820:(C,p,n)=>{n.d(p,{P:()=>d});var e=n(6354),b=n(4438),g=n(1806);let d=(()=>{class f{apollo;constructor(s){this.apollo=s}query(s,a){return this.apollo.watchQuery({query:s,variables:a}).valueChanges.pipe((0,e.T)(c=>c.data))}static \u0275fac=function(a){return new(a||f)(b.KVO(g.Ic))};static \u0275prov=b.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},3981:(C,p,n)=>{n.d(p,{D:()=>g});var e=n(4438);const b=["*"];let g=(()=>{class d{disabled=!1;isLoading=!1;isHovered=!1;isClicked=!1;onMouseEnter(){this.disabled||(this.isHovered=!0)}onMouseLeave(){this.isHovered=!1,this.isClicked=!1}onMouseDown(){this.disabled||(this.isClicked=!0)}onMouseUp(){this.isClicked=!1}static \u0275fac=function(s){return new(s||d)};static \u0275cmp=e.VBU({type:d,selectors:[["lib-clickbox"]],hostVars:8,hostBindings:function(s,a){1&s&&e.bIt("mouseenter",function(){return a.onMouseEnter()})("mouseleave",function(){return a.onMouseLeave()})("mousedown",function(){return a.onMouseDown()})("mouseup",function(){return a.onMouseUp()}),2&s&&e.AVh("disabled",a.disabled)("loading",a.isLoading)("hovered",a.isHovered)("clicked",a.isClicked)},inputs:{disabled:"disabled",isLoading:"isLoading"},ngContentSelectors:b,decls:1,vars:0,template:function(s,a){1&s&&(e.NAR(),e.SdG(0))},styles:['[_nghost-%COMP%]{display:block;height:100%;min-height:100px;border-radius:.5rem;transition:box-shadow .3s ease,border .3s ease;background-color:#fff;cursor:pointer;position:relative}[_nghost-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--border-index, 1);border-radius:var(--radius, 8px);box-shadow:inset 0 0 0 2px #9e9e9e,0 1px 3px #0000001a}.loading[_nghost-%COMP%]{width:100%;height:100%;background:linear-gradient(90deg,#e0e0e0 25%,#bdbdbd,#e0e0e0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loadingAnimation 1.5s infinite;border-radius:.5rem}.hovered[_nghost-%COMP%]{position:relative}.hovered[_nghost-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--border-index, 1);border-radius:var(--radius, 8px);box-shadow:inset 0 0 0 2px #42a5f5,0 6px 12px #00000026}.clicked[_nghost-%COMP%]{position:relative}.clicked[_nghost-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--border-index, 1);border-radius:var(--radius, 8px);box-shadow:inset 0 0 0 2px #1e88e5,0 6px 12px #00000026}.disabled[_nghost-%COMP%]{cursor:not-allowed;opacity:.6;position:relative}.disabled[_nghost-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--border-index, 1);border-radius:var(--radius, 8px);box-shadow:inset 0 0 0 2px #bdbdbd,0 1px 3px #0000001a}@keyframes _ngcontent-%COMP%_loadingAnimation{0%{background-position:200% 0}to{background-position:-200% 0}}'],changeDetection:0})}return d})()},9079:(C,p,n)=>{n.d(p,{ZX:()=>M});var e=n(4438),b=n(1413),g=n(6697),d=n(6977);function M(r){return r?.injector||(0,e.Af3)(M),(0,e.ZcF)({...r,loader:t=>{const o=new b.B;return t.abortSignal.addEventListener("abort",()=>o.next()),new Promise((i,u)=>{r.loader(t).pipe((0,g.s)(1),(0,d.Q)(o)).subscribe({next:i,error:u,complete:()=>u(new Error("Resource completed before producing a value"))})})}})}}}]);